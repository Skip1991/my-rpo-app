{% extends "base.html" %}
{% block title %}Внесение РПО{% endblock %}
{% block header %}Внесение РПО{% endblock %}
{% block content %}
    <form id="rpoForm" method="POST" class="rpo-entry-form">
        <div class="form-group">
            <label for="organization">Организация:</label>
            <input type="text" id="organization" name="organization" required value="{{ request.form['organization'] if request.form['organization'] else '' }}">
        </div>
        <div class="form-group">
            <label for="sp">СП:</label>
            <input type="text" id="sp" name="sp" required value="{{ request.form['sp'] if request.form['sp'] else '' }}">
        </div>
        <div class="form-group">
            <label for="workshop">Цех:</label>
            <input type="text" id="workshop" name="workshop" required value="{{ request.form['workshop'] if request.form['workshop'] else '' }}">
        </div>
        <div class="form-group">
            <label for="object">Объект:</label>
            <input type="text" id="object" name="object" required value="{{ request.form['object'] if request.form['object'] else '' }}">
        </div>
        <div class="form-group">
            <label for="resp_preparation">Ответственный за подготовку:</label>
            <input type="text" id="resp_preparation" name="resp_preparation" required value="{{ request.form['resp_preparation'] if request.form['resp_preparation'] else '' }}">
        </div>
        <div class="form-group">
            <label for="resp_execution">Ответственный за проведение:</label>
            <input type="text" id="resp_execution" name="resp_execution" required value="{{ request.form['resp_execution'] if request.form['resp_execution'] else '' }}">
        </div>
        <div class="form-group">
            <label for="description">Описание работы:</label>
            <textarea id="description" name="description" required>{{ request.form['description'] if request.form['description'] else '' }}</textarea>
        </div>
        <div class="form-group">
            <label for="work_name">Наименование работ:</label>
            <input type="text" id="work_name" name="work_name" required value="{{ request.form['work_name'] if request.form['work_name'] else '' }}">
        </div>
        <div class="form-group">
            <label for="rpo_type">Вид РПО:</label>
            <select id="rpo_type" name="rpo_type" required>
                <option value="В электроустановках" {% if request.form['rpo_type'] == 'В электроустановках' %}selected{% endif %}>В электроустановках</option>
                <option value="Газоопасные" {% if request.form['rpo_type'] == 'Газоопасные' %}selected{% endif %}>Газоопасные</option>
                <option value="Земляные" {% if request.form['rpo_type'] == 'Земляные' %}selected{% endif %}>Земляные</option>
                <option value="На высоте" {% if request.form['rpo_type'] == 'На высоте' %}selected{% endif %}>На высоте</option>
                <option value="Огневые" {% if request.form['rpo_type'] == 'Огневые' %}selected{% endif %}>Огневые</option>
                <option value="Повышенной опасности" {% if request.form['rpo_type'] == 'Повышенной опасности' %}selected{% endif %}>Повышенной опасности</option>
            </select>
        </div>
        <div class="form-group">
            <label for="approval_adjacent">Согласование со смежными СП:</label>
            <input type="text" id="approval_adjacent" name="approval_adjacent" required value="{{ request.form['approval_adjacent'] if request.form['approval_adjacent'] else '' }}">
        </div>
        <div class="form-group">
            <label for="risk_level">Уровень риска:</label>
            <input type="text" id="risk_level" name="risk_level" required value="{{ request.form['risk_level'] if request.form['risk_level'] else '' }}">
        </div>
        <div class="form-group">
            <label for="working_group">Выезд рабочей группы:</label>
            <select id="working_group" name="working_group" required>
                <option value="Требуется" {% if request.form['working_group'] == 'Требуется' %}selected{% endif %}>Требуется</option>
                <option value="Не требуется" {% if request.form['working_group'] == 'Не требуется' %}selected{% endif %}>Не требуется</option>
            </select>
        </div>
        <div class="form-group">
            <label for="work_type">Тип РПО:</label>
            <select id="work_type" name="work_type" required>
                <option value="Плановые" {% if request.form['work_type'] == 'Плановые' %}selected{% endif %}>Плановые</option>
                <option value="Не плановые" {% if request.form['work_type'] == 'Не плановые' %}selected{% endif %}>Не плановые</option>
                <option value="Аварийные" {% if request.form['work_type'] == 'Аварийные' %}selected{% endif %}>Аварийные</option>
            </select>
        </div>
        <div class="form-group">
            <label for="start_date">Дата начала:</label>
            <input type="date" id="start_date" name="start_date" required value="{{ request.form['start_date'] if request.form['start_date'] else '' }}">
        </div>
        <div class="form-group">
            <label for="end_date">Дата окончания:</label>
            <input type="date" id="end_date" name="end_date" required value="{{ request.form['end_date'] if request.form['end_date'] else '' }}">
        </div>

        <button type="submit" class="submit-button">Добавить работу</button>
    </form>

    <style>
        .rpo-entry-form {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .submit-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
        }

        .submit-button:hover {
            background-color: #45a049;
        }
    </style>
{% endblock %}